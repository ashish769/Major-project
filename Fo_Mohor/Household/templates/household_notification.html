{% extends "household_base.html" %}
{% load static %}

{% block title %}
  Notifications
{% endblock title %}

{% block content %}
<div class="container mt-4">
  <div class="card">
    <div class="card-header text-white">
      <h2 class="mb-0">Notifications</h2>
    </div>
    
    <div class="card-body">
      <div class="list-group">

        {# Waste Report Notifications #}
        {% for report in waste_reports %}
        <div class="list-group-item list-group-item-action">
          <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">Waste Report - {{ report.waste_type|title }}</h5>
            <small class="text-muted">{{ report.report_time }}</small>
          </div>
          <p class="mb-1">
            Your report from {{ report.location }} is currently <strong>{{ report.status|title }}</strong>.
            {% if report.description %}
              <br>{{ report.description }}
            {% endif %}
          </p>
        </div>
        {% empty %}
        <p class="text-muted">your are still not reporting anything.</p>
        {% endfor %}

        {# Illegal Dumping Notifications #}
        {% for dump in illegal_dumps %}
        <div class="list-group-item list-group-item-action">
          <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">Illegal Dumping Report</h5>
            <small class="text-muted">{{ dump.report_time }}</small>
          </div>
          <p class="mb-1">
            Reported in {{ dump.Area }}. Status: <strong>{{ dump.status|title }}</strong>.
            {% if dump.description %}
              
            {% endif %}
          </p>
        </div>
        {% empty %}
        <p class="text-muted">your are still not reporting anything about illegal dumping.</p>
        {% endfor %}

      </div>
    </div>
  </div>
</div>
{% endblock content %}
